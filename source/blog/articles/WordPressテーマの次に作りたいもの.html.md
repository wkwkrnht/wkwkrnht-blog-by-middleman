---
id: 472
title: WordPressテーマの次に作りたいもの
date: 2016-09-23T00:22:48+09:00
author: wkwkrnht
excerpt: 2016-by-wkwkrnhtの次に作りたい、オレオレなタイムライン式更新一覧サイトの話。
guid: http://wkwkrnht.gegahost.net/?p=472
permalink: /blog/delusion/472/
categories:
  - 妄想
tags:
  - Github
  - Goutte
  - PHP
  - RSS
  - Twitter
  - スクレイピング
---
とりあえずのメモ程度に。ただいま、<a href="http://wkwkrnht.gegahost.net/rss" target="_blank" rel="noopener">こちら</a>で試験中のサイト更新タイムライン。これを汎用的に、XSSなやつを解消して実装したい！そしてその流れで、Twitter連携までしたいというのがありまして。ちょこちょこ調べていたんですけど。  
<https://github.com/FriendsOfPHP/Goutte>{.embedly-card}

こんなものを見つけてしまったものですから、やるしかないと。どういうやつかってのは、CSSセレクタベースのサイトスクレイピングPHPライブラリな感じでしょうか。私としては、親しみが若干あるPHPでできる上に、CSSセレクタベースというのが、キュンキュン来るポイントです。

###### 参考記事

EMBEDLY http://qiita.com/mojibakeo/items/ba38e6709356562b284a

EMBEDLY http://reafo.net/?p=896

前回の奴は、ソース公開すらしてないのでややこしいことになってますけど、今回は、ちゃんと逐一Github上に公開する感じにしていきたいと思います。あとは、できたらJSONベースでデータベース化してそのデータベースをもとに表示とかできたらいいな。とか。

## 理想サイクル

1. 定期的にあるサイトをスクレイピング(ここはCronジョブに)
2. 最新情報かどうか
3. 最新情報じゃなかったら終了
4. 最新情報ならそれをもとに、
  1. Twitterに共有
  2. JSONデータ作成→保存
5. 非同期的にJSONデータをもとに、HTML+CSSでサイト表示

## まとめ

あくまでも、できたらいいなぁぐらいのあれです。でも、頑固な私のことだからやろうとして、途中で泣いてますね。たぶん。このスクリプトができたら、プロフィールページを公開します。約束はできないですが。まずは、それぞれの処理を、もっと小分けにして具体化して組み立てるところからかなぁ。へっぽこコーダーですけど、胸を張って、自慢できる作品を増やしていきたいところです。